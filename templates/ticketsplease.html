{% extends "base.html" %}
{% load static %}
{% block extra_js %}
    {{ block.super }}
{% endblock %}
{% block title %}Tickets Please - All your travel tickets, one tap away{% endblock %}

{% block extra_head %}
<meta name="description" content="Tickets Please - Manage all your travel tickets in one place. No more digging through emails, access your QR codes even offline.">
<link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.path }}">
<style>
    body {
        background-color: white;
        background-image: radial-gradient(var(--sand) 1px, transparent 1px);
        background-size: 40px 40px;
        scroll-behavior: smooth;
    }
</style>
{% endblock %}
{% block content %}
    <!-- Canvas pour l'animation d'avion -->
    <canvas id="planeCanvas" class="fixed top-0 left-0 w-full h-full z-10"></canvas>
    
    <!-- Header avec navigation intégrée -->
    <header class="fixed w-full z-50 transition-all duration-300 py-4 bg-white bg-opacity-95 backdrop-blur-sm shadow-sm">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <div class="flex items-center">
                <img src="{% static 'images/tickets_please_with_text.png' %}" alt="Tickets Please Logo" class="h-10 mr-3">
                <span class="text-xl font-bold text-[var(--ocean)]">Tickets Please</span>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#fonctionnalites" class="hover:text-[var(--sunset)] transition">Fonctionnalités</a>
                <a href="#pricing" class="hover:text-[var(--sunset)] transition">Pricing</a>
                <a href="#qui-sommes-nous" class="hover:text-[var(--sunset)] transition">Qui sommes-nous</a>
                <a href="#demo" class="hover:text-[var(--sunset)] transition">Démo</a>
                {% if user.is_authenticated %}
                <a href="{% url 'account' %}" class="bg-[var(--ocean)] text-white px-6 py-2 rounded-full hover:bg-[var(--ocean-light)] transition inline-flex items-center justify-center">
                    <i class="fas fa-user-circle mr-2"></i>Mon compte
                </a>
                {% else %}
                <a href="{% url 'sign_in' %}" class="bg-[var(--ocean)] text-white px-6 py-2 rounded-full hover:bg-[var(--ocean-light)] transition inline-flex items-center justify-center">
                    Sign in
                </a>
                {% endif %}
            </div>
            <!-- Bouton menu mobile -->
            <button id="mobile-menu-button" class="md:hidden text-[var(--ocean)]">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>
        
        <!-- Menu mobile -->
        <div id="mobile-menu" class="hidden md:hidden bg-white w-full absolute left-0 top-full shadow-lg">
            <div class="container mx-auto px-6 py-4 flex flex-col space-y-4">
                <a href="#fonctionnalites" class="hover:text-[var(--sunset)] transition">Fonctionnalités</a>
                <a href="#pricing" class="hover:text-[var(--sunset)] transition">Pricing</a>
                <a href="#qui-sommes-nous" class="hover:text-[var(--sunset)] transition">Qui sommes-nous</a>
                <a href="#demo" class="hover:text-[var(--sunset)] transition">Démo</a>
                
                {% if user.is_authenticated %}
                <a href="{% url 'account' %}" class="bg-[var(--ocean)] text-white px-6 py-2 rounded-full hover:bg-[var(--ocean-light)] transition w-full mt-4 inline-flex items-center justify-center">
                    <i class="fas fa-user-circle mr-2"></i>Mon compte
                </a>
                <a href="{% url 'account_logout' %}" class="border border-red-500 text-red-500 px-6 py-2 rounded-full hover:bg-red-50 transition w-full mt-2 inline-flex items-center justify-center">
                    <i class="fas fa-sign-out-alt mr-2"></i>Déconnexion
                </a>
                {% else %}
                <a href="{% url 'sign_in' %}" class="bg-[var(--ocean)] text-white px-6 py-2 rounded-full hover:bg-[var(--ocean-light)] transition w-full mt-4 inline-flex items-center justify-center">
                    Sign in
                </a>
                {% endif %}
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 px-6">
        <div class="container mx-auto flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 mb-12 md:mb-0 fade-in">
                <h1 class="text-4xl md:text-5xl font-bold text-[var(--ocean)] mb-6 leading-tight">
                    All your travel tickets, one tap away.
                </h1>
                <p class="text-lg text-gray-600 mb-8 max-w-lg">
                    Stop digging through emails. Tickets Please gathers every QR-code and booking for you—online and offline.
                </p>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                    <button class="bg-[var(--sunset)] text-white px-8 py-3 rounded-full hover:bg-opacity-90 transition font-medium">
                        Join the beta
                    </button>
                    <a href="#demo" class="border-2 border-[var(--ocean)] text-[var(--ocean)] px-8 py-3 rounded-full hover:bg-[var(--sand)] transition font-medium text-center">
                        Watch demo
                    </a>
                </div>
                <div class="mt-8 flex space-x-4">
                    <div class="flex items-center">
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                    </div>
                    <span class="text-gray-600">4.9/5 from 2,000+ travelers</span>
                </div>
            </div>
            <div class="md:w-1/2 flex justify-center phone-mockup fade-in">
                <img src="https://cdn.dribbble.com/users/1787323/screenshots/11310885/media/5e4f4a9e6d1a7d0e2a5b3e5e5b5e5b5e.png" 
                     alt="Tickets Please app mockup" 
                     class="w-80 rounded-3xl border-8 border-white">
            </div>
        </div>
    </section>

    <!-- Pain vs Solution -->
    <section class="py-20 bg-[var(--sand)] bg-opacity-30 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center text-[var(--ocean)] mb-16 fade-in">
                From chaos to peace of mind
            </h2>
            <div class="flex flex-col md:flex-row items-center fade-in">
                <div class="md:w-1/2 mb-10 md:mb-0 md:pr-10">
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                                <i class="fas fa-times text-red-500"></i>
                            </div>
                            <h3 class="text-xl font-semibold">The travel ticket nightmare</h3>
                        </div>
                        <img src="https://cdn.dribbble.com/users/1787323/screenshots/11310885/media/5e4f4a9e6d1a7d0e2a5b3e5e5b5e5b5e.png" 
                             alt="Chaotic inbox" 
                             class="w-full rounded-lg border border-gray-200">
                        <p class="mt-4 text-gray-600">
                            Lost in endless email threads, missed bookings, and last-minute scrambles to find QR codes.
                        </p>
                    </div>
                </div>
                <div class="md:w-1/2 md:pl-10">
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-check text-green-500"></i>
                            </div>
                            <h3 class="text-xl font-semibold">Tickets Please simplicity</h3>
                        </div>
                        <img src="https://cdn.dribbble.com/users/1787323/screenshots/11310885/media/5e4f4a9e6d1a7d0e2a5b3e5e5b5e5b5e.png" 
                             alt="Organized PocketPass timeline" 
                             class="w-full rounded-lg border border-gray-200">
                        <p class="mt-4 text-gray-600">
                            Everything in one place, sorted chronologically, accessible offline, with smart reminders.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Fonctionnalités -->
    <section id="fonctionnalites" class="py-20 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center text-[var(--ocean)] mb-4 fade-in">
                Travel smarter, not harder
            </h2>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-16 fade-in">
                Tickets Please takes the stress out of travel organization so you can focus on the experience.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-envelope text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Auto-import from Gmail/Outlook</h3>
                    <p class="text-gray-600">
                        Connect your email and we'll automatically find and organize all your travel confirmations.
                    </p>
                </div>
                
                <!-- Feature 2 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-calendar-alt text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Smart timeline & reminders</h3>
                    <p class="text-gray-600">
                        See your entire trip in chronological order with smart reminders for check-ins and departures.
                    </p>
                </div>
                
                <!-- Feature 3 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-wifi-slash text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Offline access to QR-codes</h3>
                    <p class="text-gray-600">
                        No internet? No problem. All your tickets and QR codes are available offline when you need them.
                    </p>
                </div>
                
                <!-- Feature 4 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-user-friends text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Couple & group sharing</h3>
                    <p class="text-gray-600">
                        Share your travel plans with travel companions so everyone stays on the same page.
                    </p>
                </div>
                
                <!-- Feature 5 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-lock text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Privacy-first on-device AI</h3>
                    <p class="text-gray-600">
                        Powered by Phi-3 Mini AI that runs on your device—your data never leaves your phone.
                    </p>
                </div>
                
                <!-- Feature 6 -->
                <div class="feature-card bg-white p-8 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer fade-in">
                    <div class="w-14 h-14 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                        <i class="feature-icon fas fa-tag text-2xl text-[var(--sunset)] transition"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Free forever for up to 3 trips</h3>
                    <p class="text-gray-600">
                        Premium unlocks unlimited trips for just €2.99/month with additional features.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing -->
    <section id="pricing" class="py-20 px-6 bg-[var(--sand)] bg-opacity-30">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center text-[var(--ocean)] mb-4 fade-in">
                How Tickets Please works
            </h2>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-16 fade-in">
                Getting started takes just 3 simple steps
            </p>
            
            <div class="flex flex-col md:flex-row justify-between">
                <!-- Step 1 -->
                <div class="md:w-1/3 px-6 mb-12 md:mb-0 step-connector fade-in">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-[var(--ocean)] text-white flex items-center justify-center text-2xl font-bold mb-6">
                            1
                        </div>
                        <div class="w-20 h-20 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                            <i class="fas fa-envelope text-3xl text-[var(--sunset)]"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Connect your email</h3>
                        <p class="text-gray-600">
                            Securely link your Gmail, Outlook, or other email accounts with read-only access.
                        </p>
                    </div>
                </div>
                
                <!-- Step 2 -->
                <div class="md:w-1/3 px-6 mb-12 md:mb-0 step-connector fade-in">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-[var(--ocean)] text-white flex items-center justify-center text-2xl font-bold mb-6">
                            2
                        </div>
                        <div class="w-20 h-20 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                            <i class="fas fa-robot text-3xl text-[var(--sunset)]"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Let our AI sort your bookings</h3>
                        <p class="text-gray-600">
                            Our privacy-first AI identifies travel confirmations and organizes them automatically.
                        </p>
                    </div>
                </div>
                
                <!-- Step 3 -->
                <div class="md:w-1/3 px-6 step-connector fade-in">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-[var(--ocean)] text-white flex items-center justify-center text-2xl font-bold mb-6">
                            3
                        </div>
                        <div class="w-20 h-20 rounded-full bg-[var(--sand)] flex items-center justify-center mb-6">
                            <i class="fas fa-umbrella-beach text-3xl text-[var(--sunset)]"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Enjoy stress-free travel</h3>
                        <p class="text-gray-600">
                            Access all your tickets in one place, with smart reminders and offline access.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- App Screenshots / Démo -->
    <section id="demo" class="py-20 px-6 bg-[var(--ocean)] text-white">
        <div class="container mx-auto text-center fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
                Ready for your most organised trip yet?
            </h2>
            <p class="text-white text-opacity-90 max-w-2xl mx-auto mb-8">
                Join thousands of travelers who've made PocketPass their essential travel companion.
            </p>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                <button class="bg-white text-[var(--ocean)] px-8 py-3 rounded-full hover:bg-opacity-90 transition font-medium">
                    Get Early Access
                </button>
                <button class="border-2 border-white text-white px-8 py-3 rounded-full hover:bg-white hover:bg-opacity-10 transition font-medium">
                    Watch Demo Video
                </button>
            </div>
        </div>
    </section>

    <!-- Qui sommes-nous -->
    <section id="qui-sommes-nous" class="py-20 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center text-[var(--ocean)] mb-4 fade-in">
                Loved by travelers worldwide
            </h2>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-16 fade-in">
                Don't just take our word for it—here's what our users say
            </p>
            
            <div class="relative max-w-4xl mx-auto overflow-hidden fade-in">
                <div id="testimonial-slider" class="flex transition-transform duration-500">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-slide min-w-full px-4">
                        <div class="bg-white p-8 rounded-xl shadow-sm">
                            <div class="flex items-center mb-6">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" 
                                     alt="Sarah K." 
                                     class="w-16 h-16 rounded-full border-4 border-[var(--sand)]">
                                <div class="ml-4">
                                    <h4 class="font-semibold">Sarah K.</h4>
                                    <div class="flex items-center mt-1">
                                        <img src="https://flagcdn.com/w20/us.png" alt="USA" class="w-5 h-3 mr-2">
                                        <span class="text-gray-500 text-sm">New York, USA</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "I used to waste so much time searching for confirmation emails at airports. PocketPass has saved me from missing flights multiple times already!"
                            </p>
                            <div class="mt-4 flex">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="testimonial-slide min-w-full px-4">
                        <div class="bg-white p-8 rounded-xl shadow-sm">
                            <div class="flex items-center mb-6">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" 
                                     alt="Thomas L." 
                                     class="w-16 h-16 rounded-full border-4 border-[var(--sand)]">
                                <div class="ml-4">
                                    <h4 class="font-semibold">Thomas L.</h4>
                                    <div class="flex items-center mt-1">
                                        <img src="https://flagcdn.com/w20/fr.png" alt="France" class="w-5 h-3 mr-2">
                                        <span class="text-gray-500 text-sm">Paris, France</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "As someone who travels weekly for work, PocketPass has become my essential travel companion. The offline access is a game-changer!"
                            </p>
                            <div class="mt-4 flex">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="testimonial-slide min-w-full px-4">
                        <div class="bg-white p-8 rounded-xl shadow-sm">
                            <div class="flex items-center mb-6">
                                <img src="https://randomuser.me/api/portraits/women/68.jpg" 
                                     alt="Aisha M." 
                                     class="w-16 h-16 rounded-full border-4 border-[var(--sand)]">
                                <div class="ml-4">
                                    <h4 class="font-semibold">Aisha M.</h4>
                                    <div class="flex items-center mt-1">
                                        <img src="https://flagcdn.com/w20/ae.png" alt="UAE" class="w-5 h-3 mr-2">
                                        <span class="text-gray-500 text-sm">Dubai, UAE</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "Planning our family vacation was so much easier with PocketPass. Being able to share all tickets with my husband made everything smoother."
                            </p>
                            <div class="mt-4 flex">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                <i class="fas fa-star-half-alt text-yellow-400 mr-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-center mt-8 space-x-2">
                    <button id="testimonial-prev" class="w-10 h-10 rounded-full bg-[var(--sand)] flex items-center justify-center text-[var(--ocean)] hover:bg-[var(--sunset)] hover:text-white transition">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="testimonial-next" class="w-10 h-10 rounded-full bg-[var(--sand)] flex items-center justify-center text-[var(--ocean)] hover:bg-[var(--sunset)] hover:text-white transition">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Banner -->
    <section class="py-20 px-6 bg-gradient-to-r from-[var(--ocean)] to-[var(--ocean-light)]">
        <div class="container mx-auto text-center fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
                Ready for your most organised trip yet?
            </h2>
            <p class="text-white text-opacity-90 max-w-2xl mx-auto mb-8">
                Join thousands of travelers who've made PocketPass their essential travel companion.
            </p>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                <button class="bg-white text-[var(--ocean)] px-8 py-3 rounded-full hover:bg-opacity-90 transition font-medium">
                    Get Early Access
                </button>
                <button class="border-2 border-white text-white px-8 py-3 rounded-full hover:bg-white hover:bg-opacity-10 transition font-medium">
                    Watch Demo Video
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 px-6 bg-[var(--sand)] bg-opacity-30">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div class="flex items-center mb-6 md:mb-0">
                    <div class="w-10 h-10 rounded-full bg-[var(--sunset)] flex items-center justify-center text-white font-bold text-xl mr-3">PP</div>
                    <span class="text-xl font-bold text-[var(--ocean)]">PocketPass</span>
                </div>
                
                <div class="flex flex-wrap justify-center gap-6 mb-6 md:mb-0">
                    <a href="#" class="text-gray-600 hover:text-[var(--ocean)] transition">Privacy</a>
                    <a href="#" class="text-gray-600 hover:text-[var(--ocean)] transition">Terms</a>
                    <a href="#" class="text-gray-600 hover:text-[var(--ocean)] transition">Contact</a>
                    <a href="#" class="text-gray-600 hover:text-[var(--ocean)] transition">FAQ</a>
                </div>
                
                <div class="flex space-x-4">
                    <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-[var(--ocean)] hover:bg-[var(--sunset)] hover:text-white transition">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-[var(--ocean)] hover:bg-[var(--sunset)] hover:text-white transition">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-[var(--ocean)] hover:bg-[var(--sunset)] hover:text-white transition">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                </div>
            </div>
            
            <div class="pt-6 border-t border-gray-200 text-center text-gray-500">
                <p>Built with ❤️ in France — &copy; PocketPass 2025</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                navbar.classList.add('nav-scrolled');
            } else {
                navbar.classList.remove('nav-scrolled');
            }
        });
        
        // Testimonial slider
        const slider = document.getElementById('testimonial-slider');
        const prevButton = document.getElementById('testimonial-prev');
        const nextButton = document.getElementById('testimonial-next');
        let currentSlide = 0;
        const slides = document.querySelectorAll('.testimonial-slide');
        const totalSlides = slides.length;
        
        function updateSlider() {
            slider.style.transform = `translateX(-${currentSlide * 100}%)`;
        }
        
        nextButton.addEventListener('click', () => {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateSlider();
        });
        
        prevButton.addEventListener('click', () => {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateSlider();
        });
        
        // Intersection Observer for fade-in animations
        const fadeElements = document.querySelectorAll('.fade-in');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, {
            threshold: 0.1
        });
        
        fadeElements.forEach(element => {
            element.style.opacity = 0;
            element.style.transform = 'translateY(20px)';
            element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(element);
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                }
            });
        });
    </script>

    <!-- Animation d'avion -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialisation du canvas
            const canvas = document.getElementById('planeCanvas');
            const ctx = canvas.getContext('2d');
            
            // Ajuster la taille du canvas à la fenêtre
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            // Appeler au chargement et lors du redimensionnement
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // Gestion des événements de souris pour déplacer l'avion
            canvas.addEventListener('mousedown', handleMouseDown);
            canvas.addEventListener('mousemove', handleMouseMove);
            canvas.addEventListener('mouseup', handleMouseUp);
            canvas.addEventListener('mouseleave', handleMouseUp);
            
            // Gestion des événements tactiles pour les appareils mobiles
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', handleTouchEnd);
            canvas.addEventListener('touchcancel', handleTouchEnd);
            
            // Charger l'image de l'avion et du nuage
            const planeImage = new Image();
            planeImage.src = '/static/images/logos/avion.png';
            
            // Charger l'image du nuage
            const cloudImage = new Image();
            cloudImage.src = '/static/logos/nuage.png';
            
            // Obtenir la couleur ocean du CSS
            const oceanColor = getComputedStyle(document.documentElement).getPropertyValue('--ocean').trim();
            
            // Paramètres de l'avion
            const plane = {
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height * 0.5, // Dans la moitié supérieure
                size: 48, // Taille de l'avion doublée
                speed: 0.8, // Vitesse constante
                dx: 1, // Direction X fixe pour trajectoire rectiligne
                dy: 0, // Direction Y nulle pour trajectoire horizontale
                angle: 0,
                clouds: [], // Tableau pour stocker les nuages (au lieu des traits)
                lastCloudTime: Date.now(), // Horodatage du dernier nuage
                lastPosition: null, // Dernière position pour créer les nuages
                isDragging: false, // Indique si l'avion est en train d'être déplacé
                savedDx: 0, // Sauvegarde de la direction X avant le déplacement
                savedDy: 0,  // Sauvegarde de la direction Y avant le déplacement
                // Ajout pour la trajectoire légèrement courbée
                turnDir: Math.random() < 0.5 ? -1 : 1, // Direction de rotation aléatoire
                turnSpeed: (Math.random() * 0.2 + 0.05) * Math.PI / 180, // 0.05-0.25° par frame (courbure légère)
                time: performance.now() * 0.001,
                // Ajout pour le changement de trajectoire aléatoire toutes les 10s
                lastCurveChangeTime: Date.now() // Horodatage du dernier changement de courbure
            };
            
            // Normaliser le vecteur de direction
            const magnitude = Math.sqrt(plane.dx * plane.dx + plane.dy * plane.dy);
            plane.dx /= magnitude;
            plane.dy /= magnitude;
            
            // Fonction pour dessiner l'avion avec l'image
            function drawPlane() {
                ctx.save();
                
                // Calculer l'angle en fonction de la direction
                plane.angle = Math.atan2(plane.dy, plane.dx);
                
                // Translater et tourner au centre de l'avion
                ctx.translate(plane.x, plane.y);
                ctx.rotate(plane.angle); // Pivoter l'avion selon la direction
                
                // Taille doublée de l'image d'avion
                const width = 96;
                const height = 96;
                
                // Réduire l'opacité de l'avion
                ctx.globalAlpha = 0.8;
                
                // Dessiner l'avion centré à sa position
                ctx.drawImage(planeImage, -width/2, -height/2, width, height);
                
                // Rétablir l'opacité normale
                ctx.globalAlpha = 1.0;
                
                ctx.restore();
            }
            
            // Fonction pour dessiner les nuages laissés par l'avion
            function drawTrails() {
                // Pour chaque nuage dans la traînée
                for (let i = 0; i < plane.clouds.length; i++) {
                    const cloud = plane.clouds[i];
                    
                    // Ne dessiner que si le nuage est encore visible
                    if (cloud.opacity > 0) {
                        ctx.save();
                        
                        // Appliquer l'opacité
                        ctx.globalAlpha = cloud.opacity;
                        
                        // Dessiner le nuage
                        const width = cloud.size * 1.5; // Format large pour le nuage
                        const height = cloud.size;
                        
                        // Dessiner le nuage centré à sa position
                        ctx.drawImage(cloudImage, cloud.x - width/2, cloud.y - height/2, width, height);
                        
                        ctx.restore();
                    }
                }
            }
            
            // Fonction pour mettre à jour la position de l'avion
            function updatePlane() {
                const now = Date.now();
                
                // Mettre à jour le temps pour l'animation
                plane.time = performance.now() * 0.001; // Temps en secondes
                
                // Initialiser la dernière position s'il n'y en a pas encore
                if (plane.lastPosition === null) {
                    plane.lastPosition = { x: plane.x, y: plane.y };
                }
                
                // Changer aléatoirement la courbure toutes les 10 secondes
                if (now - plane.lastCurveChangeTime > 10000) { // 10 secondes
                    plane.turnDir = Math.random() < 0.5 ? -1 : 1; // Nouvelle direction de rotation aléatoire
                    plane.turnSpeed = (Math.random() * 0.3 + 0.05) * Math.PI / 180; // Nouvelle vitesse de rotation
                    plane.lastCurveChangeTime = now;
                }
                
                // Ne déplacer l'avion que s'il n'est pas en train d'être déplacé manuellement
                if (!plane.isDragging) {
                    // Légère rotation de l'angle pour une trajectoire courbée
                    plane.angle += plane.turnDir * plane.turnSpeed;
                    
                    // Mettre à jour la direction de déplacement pour une trajectoire légèrement courbée
                    plane.dx = Math.cos(plane.angle);
                    plane.dy = Math.sin(plane.angle);
                    
                    // Mettre à jour la position
                    plane.x += plane.dx * plane.speed;
                    plane.y += plane.dy * plane.speed;
                }
                
                // Gérer la traversée des bords de l'écran (réapparition de l'autre côté)
                if (plane.x < -plane.size) {
                    plane.x = canvas.width + plane.size;
                } else if (plane.x > canvas.width + plane.size) {
                    plane.x = -plane.size;
                }
                
                if (plane.y < -plane.size) {
                    plane.y = canvas.height + plane.size;
                } else if (plane.y > canvas.height + plane.size) {
                    plane.y = -plane.size;
                }
                
                // Vérifier si on doit ajouter un nouveau nuage
                if (now - plane.lastCloudTime > 800) { // Toutes les 800ms (réduit de 4 fois)
                    // Ajouter un nuage à la position actuelle de l'avion
                    plane.clouds.push({
                        x: plane.x,
                        y: plane.y,
                        size: 20 + Math.random() * 10, // Taille aléatoire
                        opacity: 0.7, // Opacité initiale
                        createdAt: now
                    });
                    
                    plane.lastCloudTime = now;
                }
                
                // Mettre à jour l'opacité des nuages existants
                for (let i = plane.clouds.length - 1; i >= 0; i--) {
                    const cloud = plane.clouds[i];
                    const age = now - cloud.createdAt;
                    
                    // Réduire l'opacité avec le temps (sur 5 secondes)
                    cloud.opacity = 0.7 * (1 - Math.min(age / 5000, 1));
                    
                    // Supprimer les nuages complètement transparents
                    if (cloud.opacity <= 0) {
                        plane.clouds.splice(i, 1);
                    }
                }
                
                // Mettre à jour la dernière position
                plane.lastPosition = { x: plane.x, y: plane.y };
            }
            
            // Normaliser le vecteur de direction
            function normalizeDirection() {
                const magnitude = Math.sqrt(plane.dx * plane.dx + plane.dy * plane.dy);
                if (magnitude > 0) {
                    plane.dx /= magnitude;
                    plane.dy /= magnitude;
                }
            }
            
            // Fonction d'animation principale
            function animate() {
                // Effacer le canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Mettre à jour et dessiner l'avion
                updatePlane();
                
                // Dessiner d'abord les nuages (sous l'avion)
                drawTrails();
                
                // Puis dessiner l'avion (au-dessus des nuages)
                drawPlane();
                
                // Continuer l'animation
                requestAnimationFrame(animate);
            }
            
            // Fonction pour vérifier si le clic est sur l'avion
            function isClickOnPlane(x, y) {
                const dx = x - plane.x;
                const dy = y - plane.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                return distance <= plane.size / 2;
            }
            
            // Gestion du clic de souris
            function handleMouseDown(e) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Vérifier si le clic est sur l'avion
                if (isClickOnPlane(x, y)) {
                    plane.isDragging = true;
                    
                    // Sauvegarder la direction actuelle
                    plane.savedDx = plane.dx;
                    plane.savedDy = plane.dy;
                    
                    // Arrêter temporairement le mouvement
                    plane.dx = 0;
                    plane.dy = 0;
                }
            }
            
            // Gestion du déplacement de la souris
            function handleMouseMove(e) {
                if (plane.isDragging) {
                    const rect = canvas.getBoundingClientRect();
                    plane.x = e.clientX - rect.left;
                    plane.y = e.clientY - rect.top;
                }
            }
            
            // Gestion du relâchement de la souris
            function handleMouseUp() {
                if (plane.isDragging) {
                    plane.isDragging = false;
                    
                    // Restaurer la direction avec une légère variation aléatoire
                    const angle = Math.atan2(plane.savedDy, plane.savedDx);
                    const newAngle = angle + (Math.random() * 0.5 - 0.25); // Variation de ±0.25 radians
                    
                    plane.dx = Math.cos(newAngle);
                    plane.dy = Math.sin(newAngle);
                }
            }
            
            // Gestion du toucher (pour appareils mobiles)
            function handleTouchStart(e) {
                e.preventDefault();
                
                if (e.touches.length === 1) {
                    const touch = e.touches[0];
                    const rect = canvas.getBoundingClientRect();
                    const x = touch.clientX - rect.left;
                    const y = touch.clientY - rect.top;
                    
                    // Vérifier si le toucher est sur l'avion
                    if (isClickOnPlane(x, y)) {
                        plane.isDragging = true;
                        
                        // Sauvegarder la direction actuelle
                        plane.savedDx = plane.dx;
                        plane.savedDy = plane.dy;
                        
                        // Arrêter temporairement le mouvement
                        plane.dx = 0;
                        plane.dy = 0;
                    }
                }
            }
            
            // Gestion du déplacement du doigt
            function handleTouchMove(e) {
                if (plane.isDragging && e.touches.length === 1) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const rect = canvas.getBoundingClientRect();
                    plane.x = touch.clientX - rect.left;
                    plane.y = touch.clientY - rect.top;
                }
            }
            
            // Gestion de la fin du toucher
            function handleTouchEnd(e) {
                handleMouseUp();
            }
            
            // Démarrer l'animation
            animate();
        });
    </script>
{% endblock %}